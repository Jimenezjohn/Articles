<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8) ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Some stuff that doesn&#8217;t work between the DOM and Shadow DOM | TPG â€“ Digital Accessibility Solutions</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, shrink-to-fit=no">
<link rel="alternate" type="application/rss+xml" title="TPG" href="https://developer.paciellogroup.com/feed/">
<link rel="alternate" type="application/atom+xml" title="TPG" href="https://developer.paciellogroup.com/feed/atom/">
<meta name="theme-color" content="#1b75bc">
<link rel="icon" sizes="192x192" href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/icon192x192.png">
<link rel="apple-touch-icon" href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/icon192x192.png">
<meta name="application-name" content="The Paciello Group (TPG)">
<meta name="msapplication-TileColor" content="#1b75bc">
<meta name="msapplication-TileImage" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-144.png?1">
<meta name="msapplication-square70x70logo" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-70.png?1">
<meta name="msapplication-square150x150logo" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-150.png?1">
<meta name="msapplication-square310x310logo" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-310.png?1">

<!-- Bootstrap core CSS and custom styles-->
<link href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/style.css?20180104" rel="stylesheet">
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<!-- highlight.js -->
<link href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/highlight.js/styles/github.css" rel="stylesheet">
<!-- /highlight.js -->
<!-- JM Twitter Cards by Julien Maury 9.4 -->
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@paciellogroup">
<meta name="twitter:site" content="@paciellogroup">
<meta property="og:title" content="Some stuff that doesn&#8217;t work between the DOM and Shadow DOM">
<meta property="og:description" content="Been reading a few new articles on Web Components and accessibility, which lead me to re-read an old post I wrote: Notes on Web Components + ARIA. I noted the demo was broken, presumably as the web co">
<meta property="og:image" content="https://developer.paciellogroup.com/wp-content/uploads/2016/02/icon192x192.png">
<!-- /JM Twitter Cards by Julien Maury 9.4 -->
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="TPG &raquo; Some stuff that doesn&#8217;t work between the DOM and Shadow DOM Comments Feed" href="https://developer.paciellogroup.com/blog/2014/03/stuff-doesnt-work-dom-shadow-dom/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.3.0 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.3.0';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-42425022-5';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-42425022-5', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('require', 'linkid', 'linkid.js');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/developer.paciellogroup.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='basic_events_listing-style-css'  href='https://developer.paciellogroup.com/wp-content/plugins/basic-events-listing/style.css?ver=4.9.8' type='text/css' media='all' />
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","is_debug_mode":"false","download_extensions":"doc,exe,js,pdf,ppt,tgz,zip,xls","inbound_paths":"","home_url":"https:\/\/developer.paciellogroup.com","track_download_as":"event","internal_label":"int","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js?ver=7.3.0'></script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-content/themes/tpg2015/bootstrap/js/bootstrap.min.js?ver=4.9.8'></script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-content/themes/tpg2015/js/scripts.js?ver=4.9.8'></script>
<link rel='https://api.w.org/' href='https://developer.paciellogroup.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.paciellogroup.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://developer.paciellogroup.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='TPG Sessions and Speakers at CSUN 2014' href='https://developer.paciellogroup.com/blog/2014/03/tpg-sessions-speakers-csun-2014/' />
<link rel='next' title='Accessibility in Practice: A process-driven approach to accessibility' href='https://developer.paciellogroup.com/blog/2014/03/accessibility-practice-process-driven-approach-accessibility/' />
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="https://developer.paciellogroup.com/blog/2014/03/stuff-doesnt-work-dom-shadow-dom/" />
<link rel='shortlink' href='https://developer.paciellogroup.com/?p=2327' />
<link rel="alternate" type="application/json+oembed" href="https://developer.paciellogroup.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.paciellogroup.com%2Fblog%2F2014%2F03%2Fstuff-doesnt-work-dom-shadow-dom%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.paciellogroup.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.paciellogroup.com%2Fblog%2F2014%2F03%2Fstuff-doesnt-work-dom-shadow-dom%2F&#038;format=xml" />
</head>

<body>
<header class="navbar">
  <div class="container">
    <a href="#content" class="sr-only sr-only-focusable" id="skippy">Skip to main content</a>
    <div class="navbar-header">

      <!-- svg with fallback: http://lynn.ru/examples/svg/en.html -->
            <a href="https://www.paciellogroup.com/">
        <svg width="200" height="29" focusable="false">
          <image xlink:href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/logo.svg" src="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/logo.png" alt="TPG" width="200" height="29"/>
        </svg>
      </a>
      <!-- focusable=false fixes IE bug where svg turns into a nested tab stop -->

      <!-- <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#primaryNav" aria-controls="primaryNav" aria-expanded="false">
      <i class="fa fa-fw fa-bars" aria-hidden="true"></i> Menu
      </button> -->
    </div>
    <nav id="primaryNav" class="collapse navbar-collapse">
      <ul id="Menu" class="menu"><li id="menu-item-5939" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5939"><a href="https://www.paciellogroup.com/">Home</a></li>
<li id="menu-item-5940" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-5940"><a href="https://www.paciellogroup.com/services/">Services</a>
<ul class="sub-menu">
	<li id="menu-item-5944" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5944"><a href="https://www.paciellogroup.com/services/accessibility-audit/">Accessibility Audit</a></li>
	<li id="menu-item-5945" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5945"><a href="https://www.paciellogroup.com/services/help-desk/">Help Desk</a></li>
	<li id="menu-item-5946" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5946"><a href="https://www.paciellogroup.com/services/strategy-accessibility-program-development/">Strategy &#038; Accessibility Program Development</a></li>
	<li id="menu-item-5947" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5947"><a href="https://www.paciellogroup.com/services/training/">Training</a></li>
	<li id="menu-item-5948" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5948"><a href="https://www.paciellogroup.com/services/ux-services/">UX Services</a></li>
</ul>
</li>
<li id="menu-item-5941" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-5941"><a href="https://www.paciellogroup.com/products/">Products</a>
<ul class="sub-menu">
	<li id="menu-item-5949" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5949"><a href="https://www.paciellogroup.com/products/accessibility-resource-center-arc/">ARC</a></li>
	<li id="menu-item-5950" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5950"><a href="https://www.paciellogroup.com/products/jaws-inspect/">JAWS Inspect</a></li>
	<li id="menu-item-6616" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6616"><a href="https://www.paciellogroup.com/products/tpg-tutor/">TPG Tutor</a></li>
</ul>
</li>
<li id="menu-item-5942" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-5942"><a href="https://www.paciellogroup.com/about/">About</a>
<ul class="sub-menu">
	<li id="menu-item-6148" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6148"><a href="https://www.paciellogroup.com/about/leadership/">Leadership</a></li>
	<li id="menu-item-6149" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6149"><a href="https://www.paciellogroup.com/news/">News</a></li>
	<li id="menu-item-6150" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6150"><a href="https://www.paciellogroup.com/careers/">Careers</a></li>
	<li id="menu-item-6618" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6618"><a href="https://www.paciellogroup.com/events/">Events</a></li>
</ul>
</li>
<li id="menu-item-5943" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5943"><a href="https://www.paciellogroup.com/contact/">Contact</a></li>
<li id="menu-item-5938" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5938"><a href="https://developer.paciellogroup.com/resources/">Resources</a></li>
<li id="menu-item-5937" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-5937"><a href="https://developer.paciellogroup.com/blog/">Blog</a></li>
</ul>
    </nav><!--/.nav-collapse -->
  </div>
</header>

<div class="container" id="content">


<div class="row">
	<div class="col-md-12">
		<main>
								<article class="singlepost">
						<h1>Some stuff that doesn&#8217;t work between the DOM and Shadow DOM</h1>
						<div class="meta">
							<div>Posted on Tuesday, 25 March 2014 by <span class="author vcard">Steve Faulkner</span></div>
							<div class="taxonomy">
								<ul><li><span class="fa fa-folder-open" aria-hidden="true"></span><span class="sr-only">Category: </span><a href="https://developer.paciellogroup.com/blog/category/strategy/" rel="tag">Strategy</a></li></ul>															</div>
						</div>
						<p>Been reading a few new articles on Web Components and accessibility, which lead me to re-read an old post I wrote: <a href="http://www.paciellogroup.com/blog//2012/07/notes-on-web-components-aria/">Notes on Web Components + ARIA</a>. I noted the demo was broken, presumably as the web component syntax had changed since 2012. So I decided to make a few new tests:<br />
<span id="more-2327"></span><br />
What I found was that anything that relies upon an <code>id</code> association between content in the DOM and Shadow DOM breaks (note need to run latest Chrome or Firefox Nightly ,with web components flag enabled, to test):</p>
<h2>Some <a href="http://w3c.github.io/html/">HTML</a> examples:</h2>
<ul>
<li>document fragment <a href="http://w3c.github.io/html/links.html#hyperlink">link</a>s (#blah) &#8211; if the link target is in the shadow or visa versa
<ul>
<li style="text-align: left;"><a href="http://codepen.io/stevef/pen/Djzga/">link target in shadow DOM codepen example</a></li>
</ul>
</li>
<li><a href="http://w3c.github.io/html/sec-forms.html#labeled-control">label for/id association</a> in DOM for controls in the shadow DOM
<ul>
<li><a href="http://codepen.io/stevef/pen/pvqjh">label targeting input in shadow DOM codepen example</a></li>
</ul>
</li>
</ul>
<h2>Most <a href="http://www.w3.org/TR/wai-aria/states_and_properties#attrs_relationships">ARIA relationship attributes</a>:</h2>
<ul>
<li><a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-activedescendant"><code>aria-activedescendant</code></a></li>
<li><a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-controls"><code>aria-controls</code></a></li>
<li><a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-describedby"><code>aria-describedby</code></a></li>
<li><a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-flowto"><code>aria-flowto</code></a></li>
<li><a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-labelledby"><code>aria-labelledby</code></a></li>
<li><a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-owns"><code>aria-owns</code></a></li>
</ul>
<h2>will this be fixed?</h2>
<p>Discussion is occurring in regards to the ARIA issues &#8211; <a href="http://lists.w3.org/Archives/Public/public-pfwg/2014Mar/0100.html"><dfn>ARIA relationships via selector</dfn></a></p>
<h2>Further reading</h2>
<ul>
<li><a href="http://www.brucelawson.co.uk/2014/notes-on-accessibility-of-web-components/">Notes on accessibility of Web Components </a></li>
<li><a href="http://substantial.com/blog/2014/02/05/accessibility-and-the-shadow-dom/">Accessibility and the Shadow DOM</a></li>
<li><a href="http://w3c.github.io/webcomponents/spec/shadow/">Shadow DOM spec</a></li>
</ul>
					</article>
											<div id="entry-author-info">
							<div id="author-avatar">
								<img alt='' src='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=96&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=192&#038;d=mm&#038;r=g 2x' class='avatar avatar-96 photo' height='96' width='96' />							</div><!-- #author-avatar -->
							<div id="author-description">
								<h2>About Steve Faulkner</h2>
								Steve is the Technical Director at TPG. He joined <a href="http://www.paciellogroup.com">The Paciello Group</a> in 2006 and was previously a Senior Web Accessibility Consultant at <strong>vision australia</strong>. He is the creator and lead developer of the <a href="/resources/wat/">Web Accessibility Toolbar</a> accessibility testing tool. Steve is a member of several groups, including the W3C Web Platforms Working Group and the W3C ARIA Working Group. 
He is an editor of several specifications at the <a href="http://w3.org">W3C</a> including <a href="http://w3c.github.io/html/">HTML 5.1</a>, <a href="http://w3c.github.io/html-aria/">ARIA in HTML</a>,  <a href="http://w3c.github.io/aria-in-html/">Notes on Using ARIA in HTML</a> and <a href="http://www.w3.org/TR/2014/WD-html-alt-techniques-20141023/">HTML5: Techniques for providing useful text alternatives</a>.
He also develops and maintains <a href="http://www.HTML5accessibility.com">HTML5accessibility</a>.							</div><!-- #author-description -->
						</div><!-- #entry-author-info -->
					
<div id="comments" class="comments-area">

	<h2 class="comments-title"><span class="fa fa-comments-o" aria-hidden="true"></span> Comments</h2>

	
	<ol class="comment-list">
				<li id="comment-960" class="comment even thread-even depth-1">
			<article id="div-comment-960" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/6f3ec7315ad0715ae2a5f89a52877218?s=34&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/6f3ec7315ad0715ae2a5f89a52877218?s=68&#038;d=mm&#038;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' />						<b class="fn"><a href='http://www.brucelawson.co.uk' rel='external nofollow' class='url'>bruce</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://developer.paciellogroup.com/blog/2014/03/stuff-doesnt-work-dom-shadow-dom/#comment-960">
							<time datetime="2014-03-25T09:59:36+00:00">
								Tuesday, 25 March 2014 at 9:59 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Would you want to use an id association across the DOM/ Shadow DOM boundary? Wouldn&#8217;t that rather negate the value of encapsulation?</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-961" class="comment byuser comment-author-stevefaulkner bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-961" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=34&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=68&#038;d=mm&#038;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' />						<b class="fn">Steve Faulkner</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://developer.paciellogroup.com/blog/2014/03/stuff-doesnt-work-dom-shadow-dom/#comment-961">
							<time datetime="2014-03-25T10:12:44+00:00">
								Tuesday, 25 March 2014 at 10:12 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>hi bruce, I think that being able to link to a document fragment inside a component, <code>http://plauke.com/#balls</code> for example, is a reasonable use case, but as I said on twitter I am not forming a value judgement, just flagging a potential issue, that people more knowledgeable than I, have been discussing in the dark corners of Googledom.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
	</ol><!-- .comment-list -->

	
		<p class="no-comments"><strong>Comments for this post are closed.</strong></p>
	
	
</div><!-- #comments -->
		</main>
	</div>
	</div>

<!-- debug: single -->

</div> <!-- /container -->
<footer>
	<div class="container">
	<!-- Example row of columns -->
		<div class="row">
			<div class="col-sm-4">
				<h2>Get in touch</h2>
				<p>Discuss your specific accessibility needs and find out how we can help.<br>
				<p><a href="/contact/" class="btn btn-primary">Contact us...</a></p>
			</div>
			<div class="col-sm-4">
				<a class="twitter-timeline" data-dnt="true" href="https://twitter.com/paciellogroup" data-widget-id="399882246519128064" data-tweet-limit="1" data-theme="dark" data-chrome="noheader nofooter noborders transparent" width="293">Tweets by @paciellogroup</a><!-- script relocated to scripts.js. width forced to avoid twitter widget annoying style recalculation after load -->
			</div>
			<div class="col-sm-4">
				<ul class="social">
					<li><a href="https://twitter.com/paciellogroup"><span class="fa fa-twitter fa-fw" aria-hidden="true"></span><span class="sr-only">@paciellogroup on Twitter</span></a></li>
					<li><a href="https://www.youtube.com/user/ThePacielloGroup/"><span class="fa fa-youtube fa-fw" aria-hidden="true"></span><span class="sr-only">The Paciello Group YouTube channel</span></a></li>
					<li><a href="https://plus.google.com/+Paciellogroup/"><span class="fa fa-google-plus fa-fw" aria-hidden="true"></span><span class="sr-only">The Paciello Group on Google+</span></a></li>
					<li><a href="http://www.linkedin.com/company/the-paciello-group"><span class="fa fa-linkedin-square fa-fw" aria-hidden="true"></span><span class="sr-only">The Paciello Group on LinkedIn</span></a></li>
				</ul>
				<div class="callout">
				<a href="/accessibility/"><span class="fa fa-question-circle" aria-hidden="true"></span> Why accessibility? Read our primer!</a>
				</div>
			</div>
		</div>
		<p class="legal"><small>&copy; The Paciello Group â€“ a <a href="http://www.vfo-group.com">VFOâ„¢</a> company. All Rights Reserved. For general enquiries, contact us on <a href="mailto:info@paciellogroup.com">info@paciellogroup.com</a></small></p>
	</div>
</footer>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>
<!-- highlight.js -->
<script src="https://developer.paciellogroup.com/wp-content/themes/tpg2015/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- fastclick.js -->
<script src="https://developer.paciellogroup.com/wp-content/themes/tpg2015/fastclick/fastclick.min.js"></script>
<script>window.addEventListener("load", function() {
    new FastClick(document.body);
}, false);</script>
<!-- /fastclick.js -->
<script>
// Get the nav by id
var pNav = document.getElementById("primaryNav");

function unClassy(){
	try {
		// Remove the focus class
		pNav.classList.remove("focus");
		// Remove the focus class from all its descendents
		pNavDesc = pNav.getElementsByTagName('*');
		for( var i = 0; i<pNavDesc.length; i++){
			// pNavDesc[i].removeAttribute("class");
			pNavDesc[i].classList.remove("focus");
		}
	} catch (e) {
		console.log(e);
	}	
}

/* For any clicks, clear the focus class from the nav and all its descendants, essentially closing the menu when a user clicks/taps outside of it. */
document.documentElement.onclick=function() {
	try {
		unClassy();
	} catch (e) {
		console.log(e);
	}
}

/* Manipulate focus classes in navigation. */
function classy(){
	try {
		unClassy();
		// Add the focus class to items that have focus
		// Get the element that currently has focus
		var focusedElement = document.activeElement;
		// If that element is the primary nav, add the class
		if (focusedElement.id == pNav.id){
			// Add the focus class
			pNav.classList.add("focus");
		}
		// If nav contains the focused element, add the class
		if (pNav.contains(focusedElement)){
			focusedElement.classList.add("focus");
			el = focusedElement;
			while (el.parentNode) {
				el.classList.add("focus");
				el = el.parentNode;
			}
		}
	} catch (e) {
		console.log(e);
	}
}

/* Delay the assigning of classes to give the :focus a chance to catch up. There has to be a better way for this. */
document.documentElement.addEventListener("keydown", delayClassy, false);
function delayClassy(){
	try {
		setTimeout(classy, 200);
	} catch (e) {
		console.log(e);
	}
}  
</script>
</body>
</html>